<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Emploi du Temps</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Loader -->
    <div id="loader" class="loader">
        <div class="spinner"></div>
        <p>Chargement...</p>
    </div>

    <!-- Header compact -->
    <header class="header">
        <button id="prev-week" class="nav-btn">‹</button>
        <div class="header-content">
            <h1 id="current-week-label">Semaine A</h1>
            <p id="week-dates" class="dates"></p>
        </div>
        <button id="next-week" class="nav-btn">›</button>
    </header>

    <!-- Day Navigation (Mobile) -->
    <div class="day-nav" id="day-nav">
        <button class="day-btn active" data-day="0">L</button>
        <button class="day-btn" data-day="1">M</button>
        <button class="day-btn" data-day="2">M</button>
        <button class="day-btn" data-day="3">J</button>
        <button class="day-btn" data-day="4">V</button>
    </div>

    <!-- Timetable Container -->
    <div class="timetable-container" id="timetable-container">
        <!-- Day cards generated by JS -->
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="modal-close">×</button>
            
            <div class="modal-header">
                <h2 id="modal-title"></h2>
                <div class="modal-meta">
                    <span id="modal-time"></span>
                    <span id="modal-prof"></span>
                    <span id="modal-salle"></span>
                </div>
            </div>

            <!-- Progress indicator for processing files -->
            <div class="progress-section" id="progress-section">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <p class="progress-label" id="progress-label"></p>
            </div>

            <!-- Audio Player -->
            <div class="audio-section" id="audio-section">
                <audio id="audio-player" controls></audio>
            </div>

            <!-- Search bar -->
            <div class="search-bar" id="search-bar">
                <input type="text" id="search-input" placeholder="Rechercher dans la transcription..." />
                <button id="search-clear">×</button>
            </div>

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="transcription">Transcription</button>
                <button class="tab-btn" data-tab="resume">Résumé</button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <div id="tab-transcription" class="tab-pane active">
                    <div class="transcription-text" id="transcription-text"></div>
                </div>
                <div id="tab-resume" class="tab-pane">
                    <div class="resume-text" id="resume-text"></div>
                </div>
            </div>

            <!-- Multiple recordings selector -->
            <div class="recordings-list" id="recordings-list"></div>
        </div>
    </div>

    <!-- Orphan Recordings -->
    <section class="orphan-section" id="orphan-section">
        <h3>Autres enregistrements</h3>
        <div class="orphan-grid" id="orphan-grid"></div>
    </section>

    <script src="config.js"></script>
    <script src="timetable-data.js"></script>
    <script src="app.js"></script>
</body>
</html>
